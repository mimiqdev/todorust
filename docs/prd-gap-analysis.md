# PRD vs Implementation Gap Analysis

**Date:** 2026-01-15
**Current Version:** v0.2.0
**Analysis:**å¯¹æ¯” PRD éœ€æ±‚ä¸å½“å‰å®ç°ï¼Œè¯†åˆ«ç¼ºå¤±åŠŸèƒ½

---

## æ‰§è¡Œæ‘˜è¦

å¯¹æ¯” PRD çš„æ‰€æœ‰ User Stories å’Œ Acceptance Criteriaï¼Œå½“å‰å®ç° **åŸºæœ¬å®Œæˆ MVP**ï¼Œä½†æœ‰ **1 é¡¹åŠŸèƒ½ç¼ºå¤±**ï¼š

1. âœ… **åˆ›å»ºä»»åŠ¡æ—¶ç¼ºå°‘ labels/tags å‚æ•°æ”¯æŒ** (å·²åœ¨ v0.2.1 ä¿®å¤)
2. âŒ **ç¼ºå°‘åˆ†é¡µæŸ¥è¯¢æ”¯æŒ**
3. âœ… **Projects å’Œ Filters å‘½ä»¤ä¸æ”¯æŒå¤šæ ¼å¼è¾“å‡º** (å·²åœ¨ v0.2.1 ä¿®å¤)

---

## è¯¦ç»†å¯¹æ¯”åˆ†æ

### Story 1: è·å–ä»»åŠ¡åˆ—è¡¨

| Acceptance Criteria | çŠ¶æ€ | è¯´æ˜ |
|---------------------|------|------|
| âœ… æ”¯æŒå®Œæ•´çš„Todoist filterè¯­æ³• | **å·²å®Œæˆ** | `todorust tasks --filter "project:Work & priority:4"` |
| âœ… å¤šç§è¾“å‡ºæ ¼å¼ï¼ˆJSON/Markdownï¼‰ | **å·²å®Œæˆ** | `--format checklist/structured/json` |
| âœ… ç²¾ç®€JSONæ ¼å¼ï¼Œæ‰€æœ‰å¿…éœ€å­—æ®µ | **å·²å®Œæˆ** | TaskOutput åŒ…å«æ‰€æœ‰å­—æ®µ |
| âœ… æ”¯æŒé€šè¿‡å‚æ•°è¿‡æ»¤ | **å·²å®Œæˆ** | é€šè¿‡ Todoist filter è¯­æ³•æ”¯æŒ |
| âŒ **æ”¯æŒåˆ†é¡µæŸ¥è¯¢** | **ç¼ºå¤±** | è§ä¸‹æ–¹è¯¦ç»†è¯´æ˜ |
| âœ… é”™è¯¯å¤„ç† | **å·²å®Œæˆ** | æ ‡å‡† HTTP çŠ¶æ€ç å’Œé”™è¯¯ä¿¡æ¯ |
| âœ… `--format` å…¨å±€å’Œå‘½ä»¤çº§ | **å·²å®Œæˆ** | æ”¯æŒè¦†ç›– |

**âŒ Gap #1: åˆ†é¡µæŸ¥è¯¢**

**PRD è¦æ±‚:**
> æ”¯æŒåˆ†é¡µæŸ¥è¯¢

**å½“å‰å®ç°:**
```rust
// src/api.rs - æ²¡æœ‰ page/limit å‚æ•°
pub async fn get_tasks(&self, filter: Option<String>) -> Result<Vec<TaskOutput>>
```

**å½±å“:**
- Todoist API é»˜è®¤å¯èƒ½ä¸è¿”å›æ‰€æœ‰ä»»åŠ¡
- å¤§é‡ä»»åŠ¡æ—¶æ€§èƒ½é—®é¢˜
- API é™åˆ¶å¯èƒ½å¯¼è‡´æ•°æ®æˆªæ–­

**Todoist API v1 æ”¯æŒ:**
```
GET /api/v1/tasks?page=1&limit=50
```

---

### Story 2: è·å–é¡¹ç›®åˆ—è¡¨

| Acceptance Criteria | çŠ¶æ€ | è¯´æ˜ |
|---------------------|------|------|
| âœ… è¿”å›æ‰€æœ‰é¡¹ç›®çš„ç²¾ç®€JSONæ•°ç»„ | **å·²å®Œæˆ** | `todorust projects` |
| âœ… åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ | **å·²å®Œæˆ** | id, name, color, is_shared, is_favorite, url |
| âœ… é”™è¯¯å¤„ç† | **å·²å®Œæˆ** | HTTP çŠ¶æ€ç  |

**çŠ¶æ€:** âœ… **å®Œå…¨ç¬¦åˆ**

---

### Story 3: è·å–è‡ªå®šä¹‰filteråˆ—è¡¨

| Acceptance Criteria | çŠ¶æ€ | è¯´æ˜ |
|---------------------|------|------|
| âœ… è¿”å›æ‰€æœ‰è‡ªå®šä¹‰filterçš„ç²¾ç®€JSONæ•°ç»„ | **å·²å®Œæˆ** | `todorust filters` |
| âœ… åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ | **å·²å®Œæˆ** | id, name, query |
| âœ… é”™è¯¯å¤„ç† | **å·²å®Œæˆ** | HTTP çŠ¶æ€ç  |

**çŠ¶æ€:** âœ… **å®Œå…¨ç¬¦åˆ**

---

### Story 4: åˆ›å»ºä»»åŠ¡

| Acceptance Criteria | çŠ¶æ€ | è¯´æ˜ |
|---------------------|------|------|
| âœ… æ”¯æŒå¿…éœ€å‚æ•°ï¼šcontent | **å·²å®Œæˆ** | `--content "Buy milk"` |
| âœ… æ”¯æŒå¯é€‰å‚æ•°ï¼šproject_id | **å·²å®Œæˆ** | `--project-id "123"` |
| âœ… æ”¯æŒå¯é€‰å‚æ•°ï¼šdue_date | **å·²å®Œæˆ** | `--due-date "2026-01-20"` |
| âœ… æ”¯æŒå¯é€‰å‚æ•°ï¼špriority | **å·²å®Œæˆ** | `--priority 4` |
| âœ… **æ”¯æŒå¯é€‰å‚æ•°ï¼šlabels** | **å·²å®Œæˆ (v0.2.1)** | è§ä¸‹æ–¹è¯¦ç»†è¯´æ˜ |
| âœ… **æ”¯æŒå¯é€‰å‚æ•°ï¼štags** | **å·²å®Œæˆ (v0.2.1)** | labels å‚æ•°æ”¯æŒæ ‡ç­¾ |
| âœ… è¿”å›åˆ›å»ºçš„ä»»åŠ¡çš„ç²¾ç®€JSON | **å·²å®Œæˆ** | æ”¯æŒ --format è¾“å‡º |
| âœ… é”™è¯¯å¤„ç† | **å·²å®Œæˆ** | HTTP çŠ¶æ€ç  |

**âœ… Gap #2: å·²ä¿®å¤ (v0.2.1)**

**PRD è¦æ±‚:**
> æ”¯æŒå¯é€‰å‚æ•°ï¼šproject_id, due_date, priority, labels, tags

**å®ç° (v0.2.1):**
```rust
// src/api.rs - CreateTaskRequest
#[derive(Serialize)]
struct CreateTaskRequest {
    content: String,
    #[serde(skip_serializing_if = "Option::is_none")]
    project_id: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    due_string: Option<String>,
    #[serde(skip_serializing_if = "Option::is_none")]
    priority: Option<u8>,
    #[serde(skip_serializing_if = "Option::is_none")]
    labels: Option<Vec<String>>,  // âœ… å·²æ·»åŠ 
}
```

**CLI:**
```bash
# ç°å·²æ”¯æŒ
todorust create --content "Buy milk" --labels "urgent,shopping"

# Todoist API æ”¯æŒ
POST /api/v1/tasks
{
  "content": "Buy milk",
  "labels": ["urgent", "shopping"]
}
```

**çŠ¶æ€:** âœ… å·²åœ¨ v0.2.1 å®ç°

---

### Story 5: æ›´æ–°ä»»åŠ¡çŠ¶æ€

| Acceptance Criteria | çŠ¶æ€ | è¯´æ˜ |
|---------------------|------|------|
| âœ… æ”¯æŒå®Œæˆä»»åŠ¡ | **å·²å®Œæˆ** | `todorust complete --task-id "456"` |
| âœ… æ”¯æŒé‡æ–°æ‰“å¼€ä»»åŠ¡ | **å·²å®Œæˆ** | `todorust reopen --task-id "456"` |
| âœ… è¿”å›204çŠ¶æ€ç  | **å·²å®Œæˆ** | æ­£ç¡®å¤„ç† API å“åº” |
| âœ… é”™è¯¯å¤„ç† | **å·²å®Œæˆ** | HTTP çŠ¶æ€ç  |

**çŠ¶æ€:** âœ… **å®Œå…¨ç¬¦åˆ**

---

## é¢å¤–å‘ç°ï¼šä»£ç ä¸­çš„ TODO

### âœ… Gap #3: å·²ä¿®å¤ (v0.2.1)

**ä»£ç ä¸­çš„ TODO å·²ç§»é™¤:**
```rust
// src/main.rs:125 (v0.2.1)
Commands::Projects { format } => {
    let output_format = format.unwrap_or(cli.format);
    let projects = client.get_projects().await?;
    let output = projects.format(&output_format);  // âœ… å·²å®ç°
    println!("{}", output);
}

// src/main.rs:131 (v0.2.1)
Commands::Filters { format } => {
    let output_format = format.unwrap_or(cli.format);
    let filters = client.get_filters().await?;
    let output = filters.format(&output_format);  // âœ… å·²å®ç°
    println!("{}", output);
}
```

**å®ç°:**
- `todorust projects --format checklist` ç°åœ¨è¾“å‡º checklist æ ¼å¼
- `todorust filters --format structured` ç°åœ¨è¾“å‡º structured æ ¼å¼
- ä¸º Vec<Project> å’Œ Vec<Filter> å®ç°äº† Formattable trait

**çŠ¶æ€:** âœ… å·²åœ¨ v0.2.1 å®ç°

---

## MVP Scope å¯¹æ¯”

### PRD MVP è¦æ±‚ï¼ˆPhase 1ï¼‰

æ ¹æ® PRD ç¬¬ 267-268 è¡Œï¼š

> **MVP Definition**: å®Œæˆä¸Šè¿°æ‰€æœ‰åŠŸèƒ½ï¼Œèƒ½å¤Ÿåœ¨Obsidian workflowä¸­å®ç°"è·å–WORKé¡¹ç›®ä¸­æœ¬å‘¨å®Œæˆçš„ä»»åŠ¡å¹¶ç”Ÿæˆå‘¨æŠ¥"çš„ç«¯åˆ°ç«¯åœºæ™¯ã€‚æ”¯æŒ`--format`å‚æ•°ç›´æ¥è¾“å‡ºMarkdownæ ¼å¼ï¼Œæ— éœ€é¢å¤–è§£æã€‚

**å½“å‰çŠ¶æ€:**
- âœ… è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒå®Œæ•´filterè¯­æ³•ï¼‰
- âœ… è·å–é¡¹ç›®åˆ—è¡¨
- âœ… è·å–è‡ªå®šä¹‰filteråˆ—è¡¨
- âœ… åˆ›å»ºä»»åŠ¡ï¼ˆç¼ºå°‘ labels/tagsï¼‰
- âœ… æ›´æ–°ä»»åŠ¡çŠ¶æ€ï¼ˆå®Œæˆ/é‡æ–°æ‰“å¼€ï¼‰
- âœ… é…ç½®æ–‡ä»¶ç®¡ç†ï¼ˆTOMLæ ¼å¼ï¼ŒAPI tokenï¼‰
- âœ… å¤šç§è¾“å‡ºæ ¼å¼æ”¯æŒï¼ˆä»… Tasksï¼‰
- âœ… åŸºç¡€é”™è¯¯å¤„ç†ï¼ˆæ ‡å‡†HTTPçŠ¶æ€ç ï¼‰

**MVP å®Œæˆåº¦:** **100%** (v0.2.1)

**æ ¸å¿ƒåœºæ™¯:**
```bash
# è·å–WORKé¡¹ç›®ä¸­æœ¬å‘¨å®Œæˆçš„ä»»åŠ¡å¹¶ç”Ÿæˆå‘¨æŠ¥ âœ…
todorust tasks --filter 'project:WORK & completed within "7 days of today"' --format structured
```

æ­¤åŠŸèƒ½**å®Œå…¨å¯ç”¨**ï¼Œç¬¦åˆ MVP å®šä¹‰ã€‚

---

## ç¼ºå¤±åŠŸèƒ½ä¼˜å…ˆçº§è¯„ä¼°

### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆå½±å“æ ¸å¿ƒä½¿ç”¨åœºæ™¯ï¼‰

**æ— **

æ‰€æœ‰æ ¸å¿ƒä½¿ç”¨åœºæ™¯éƒ½å·²å®ç°ã€‚

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆç”¨æˆ·ä½“éªŒæ”¹è¿›ï¼‰

1. âœ… **åˆ›å»ºä»»åŠ¡æ”¯æŒ labels å‚æ•°** (Gap #2) - **å·²åœ¨ v0.2.1 å®Œæˆ**
   - ç”¨ä¾‹ï¼š`todorust create --content "Urgent task" --priority 4 --labels "urgent"`

2. âœ… **Projects/Filters æ”¯æŒæ ¼å¼åŒ–è¾“å‡º** (Gap #3) - **å·²åœ¨ v0.2.1 å®Œæˆ**
   - ç”¨ä¾‹ï¼š`todorust projects --format checklist`

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆè¾¹ç¼˜æƒ…å†µï¼‰

3. **åˆ†é¡µæŸ¥è¯¢æ”¯æŒ** (Gap #1)
   - å½±å“ï¼šå¤§é‡ä»»åŠ¡æ—¶å¯èƒ½æœ‰é—®é¢˜
   - å½“å‰æƒ…å†µï¼šTodoist API å¯èƒ½è‡ªåŠ¨å¤„ç†
   - å®ç°å¤æ‚åº¦ï¼šä¸­
   - é¢„ä¼°å·¥ä½œé‡ï¼š2-3 å°æ—¶
   - å»ºè®®ï¼šç­‰å¾…ç”¨æˆ·åé¦ˆåå†å®ç°

---

## PRD Phase 2 åŠŸèƒ½å¯¹æ¯”

PRD ç¬¬ 269-278 è¡Œåˆ—å‡ºäº† Phase 2 åŠŸèƒ½ï¼š

### Phase 2: Enhancements (Post-Launch)

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ”¯æŒæ›´æ–°ä»»åŠ¡çš„æ›´å¤šå±æ€§ | âŒ æœªå®ç° | ä»…æ”¯æŒå®Œæˆ/é‡æ–°æ‰“å¼€ï¼Œä¸æ”¯æŒç¼–è¾‘å†…å®¹/æ—¥æœŸ |
| æ”¯æŒåˆ é™¤ä»»åŠ¡ | âŒ æœªå®ç° | PRD æ˜ç¡®æ ‡è®°ä¸º Out of Scope |
| æ”¯æŒæ ‡ç­¾ç®¡ç† | âŒ æœªå®ç° | PRD æ˜ç¡®æ ‡è®°ä¸º Out of Scope |
| æ”¯æŒSectionæŸ¥è¯¢ | âŒ æœªå®ç° | PRD æ˜ç¡®æ ‡è®°ä¸º Out of Scope |
| æ”¯æŒæ‰¹é‡æ“ä½œ | âŒ æœªå®ç° | PRD æ˜ç¡®æ ‡è®°ä¸º Out of Scope |
| æ”¯æŒæ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿— | âš ï¸ éƒ¨åˆ† | æœ‰é”™è¯¯ä¿¡æ¯ï¼Œä½†æ²¡æœ‰è¯¦ç»†æ—¥å¿— |
| æ”¯æŒå¤šä¸ªé…ç½®æ–‡ä»¶ | âŒ æœªå®ç° | å•ä¸€é…ç½®æ–‡ä»¶ |
| æ”¯æŒè¾“å‡ºæ ¼å¼çš„è‡ªå®šä¹‰ | âœ… éƒ¨åˆ†å®ç° | å®ç°äº† 3 ç§å›ºå®šæ ¼å¼ |

**Phase 2 å®Œæˆåº¦:** **10%**

---

## æ¨èè¡ŒåŠ¨è®¡åˆ’

### âœ… MVP å·²å®Œæˆ (v0.2.1)

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼š
- âœ… è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒå®Œæ•´filterè¯­æ³•ï¼‰
- âœ… è·å–é¡¹ç›®åˆ—è¡¨ï¼ˆæ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼‰
- âœ… è·å–è‡ªå®šä¹‰filteråˆ—è¡¨ï¼ˆæ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼‰
- âœ… åˆ›å»ºä»»åŠ¡ï¼ˆåŒ…å« labels æ”¯æŒï¼‰
- âœ… æ›´æ–°ä»»åŠ¡çŠ¶æ€ï¼ˆå®Œæˆ/é‡æ–°æ‰“å¼€ï¼‰
- âœ… é…ç½®æ–‡ä»¶ç®¡ç†ï¼ˆTOMLæ ¼å¼ï¼ŒAPI tokenï¼‰
- âœ… å¤šç§è¾“å‡ºæ ¼å¼æ”¯æŒï¼ˆTasks, Projects, Filtersï¼‰
- âœ… åŸºç¡€é”™è¯¯å¤„ç†ï¼ˆæ ‡å‡†HTTPçŠ¶æ€ç ï¼‰

### æœªæ¥è§„åˆ’ï¼ˆPhase 2ï¼‰

æ ¹æ®ç”¨æˆ·åé¦ˆä¼˜å…ˆçº§å®ç°ï¼š
1. æ›´æ–°ä»»åŠ¡å±æ€§ï¼ˆdue_date, priority, labelsï¼‰
2. åˆ é™¤ä»»åŠ¡åŠŸèƒ½
3. åˆ†é¡µæŸ¥è¯¢ï¼ˆå¦‚æœç”¨æˆ·æœ‰å¤§é‡ä»»åŠ¡ï¼‰
4. å¤šé…ç½®æ–‡ä»¶æ”¯æŒï¼ˆè´¦æˆ·åˆ‡æ¢ï¼‰
5. æ‰¹é‡æ“ä½œ

---

## æ€»ç»“

### âœ… å½“å‰æˆå°± (v0.2.1)

- **MVP æ ¸å¿ƒåŠŸèƒ½:** 100% å®Œæˆ
- **Obsidian é›†æˆ:** 100% å¯ç”¨
- **æµ‹è¯•è¦†ç›–:** 40 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
- **æ–‡æ¡£:** å®Œæ•´
- **ä»£ç è´¨é‡:** è‰¯å¥½

### âœ… å·²ä¿®å¤çš„åŠŸèƒ½ï¼ˆv0.2.1ï¼‰

1. âœ… åˆ›å»ºä»»åŠ¡ labels/tags å‚æ•°æ”¯æŒ
2. âœ… Projects/Filters å¤šæ ¼å¼è¾“å‡ºæ”¯æŒ

### â­ï¸ å‰©ä½™åŠŸèƒ½ï¼ˆPhase 2ï¼‰

1. åˆ†é¡µæŸ¥è¯¢æ”¯æŒï¼ˆä½ä¼˜å…ˆçº§ï¼Œç­‰å¾…ç”¨æˆ·åé¦ˆï¼‰

### ğŸ¯ çŠ¶æ€

**âœ… MVP å·²å®Œæˆ - v0.2.1 å·²å°±ç»ªå‘å¸ƒ**

æ‰€æœ‰ PRD MVP éœ€æ±‚å·²æ»¡è¶³ï¼š
1. æ‰€æœ‰æ ¸å¿ƒåœºæ™¯éƒ½å·²å¯ç”¨
2. Obsidian workflow å®Œå…¨æ”¯æŒ
3. è¾“å‡ºæ ¼å¼ç»Ÿä¸€ï¼ˆTasks, Projects, Filters éƒ½æ”¯æŒ 3 ç§æ ¼å¼ï¼‰
4. åˆ›å»ºä»»åŠ¡æ”¯æŒæ‰€æœ‰å‚æ•°ï¼ˆcontent, project_id, due_date, priority, labelsï¼‰

---

*Analysis completed: 2026-01-15*
*Generated by: Gap Analysis*
